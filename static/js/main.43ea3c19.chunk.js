(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,n){t.exports={Header:"Header_Header__1RENF",HeaderContainer:"Header_HeaderContainer__2izJ-",HomeLink:"Header_HomeLink__1NRza",SearchForm:"Header_SearchForm__NrXRU",SearchField:"Header_SearchField__3HsfZ"}},22:function(t,e,n){t.exports={ArtistInfoContainer:"ArtistInfo_ArtistInfoContainer__KVKzn",ArtistInfoImage:"ArtistInfo_ArtistInfoImage__3ER_x",AlbumsLink:"ArtistInfo_AlbumsLink__1SywC",ArtistInfoBio:"ArtistInfo_ArtistInfoBio__25al9"}},25:function(t,e,n){t.exports={AlbumsContainer:"Albums_AlbumsContainer__DWkR7",Subheading:"Albums_Subheading__1otTU",SelectWrapper:"Albums_SelectWrapper__Gh_H6",AlbumsSelector:"Albums_AlbumsSelector__3gKSn"}},31:function(t,e,n){t.exports={ArtistsContainer:"Artists_ArtistsContainer__2Lgz5",Subheading:"Artists_Subheading__2q0tY"}},32:function(t,e,n){t.exports={Card:"Card_Card__3Mvbw",CardTitle:"Card_CardTitle__2Kt_S"}},45:function(t,e,n){t.exports={Container:"Layout_Container__2L3qi"}},47:function(t,e,n){t.exports={Loader:"Spinner_Loader__2cQdq",load2:"Spinner_load2__qRcdp"}},48:function(t,e){t.exports="data:image/jpeg;base64,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"},49:function(t,e,n){t.exports={Modal:"Modal_Modal__2DZUY"}},50:function(t,e,n){t.exports={Backdrop:"Backdrop_Backdrop__367GI"}},56:function(t,e,n){t.exports=n(90)},62:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),A=n(18),o=n.n(A),i=(n(61),n(62),n(2)),c=n(3),s=n(5),l=n(4),u=n(6),p=n(17),m=n(43),h=n(7),f=n(45),d=n.n(f),I=n(15),b=n(21),C=n.n(b),g=n(20),E=n.n(g),S=function(){return function(t){t({type:"FETCH_ARTISTS_START"}),E.a.get("http://ws.audioscrobbler.com/2.0/?method=chart.gettopartists&api_key=".concat("4cb074e4b8ec4ee9ad3eb37d6f7eb240","&format=json")).then(function(e){t({type:"FETCH_ARTISTS_SUCCESS",artists:e.data.artists.artist.map(function(t){var e={};return e.name=t.name,e.src=t.image[3]["#text"],e})})}).catch(function(e){t({type:"FETCH_ARTISTS_FAIL"})})}},_=function(t){return function(e){e({type:"FETCH_ARTIST_INFO_START"}),E.a.get("http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=".concat(t,"&autocorrect=1&api_key=").concat("4cb074e4b8ec4ee9ad3eb37d6f7eb240","&format=json")).then(function(t){e(function(t){var e=null;if(t.data.artist.mbid){var n=t.data.artist.bio.content;e={name:t.data.artist.name,image:t.data.artist.image[3]["#text"],bio:n.substring(0,n.indexOf("<a href"))}}else e={notFound:!0};return{type:"FETCH_ARTIST_INFO_SUCCESS",artistInfo:e}}(t))}).catch(function(t){e({type:"FETCH_ARTISTS_FAIL"})})}},B=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={searchValue:""},n.inputChangedHandler=function(t){n.setState({searchValue:t.target.value})},n.onSubmitHandler=function(t){t.preventDefault(),"/"!==n.props.location&&n.props.history.replace("/"),n.props.onArtistSearchInit(n.state.searchValue)},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("header",{className:C.a.Header},r.a.createElement("div",{className:C.a.HeaderContainer},r.a.createElement(I.b,{to:"/",onClick:this.props.onArtistsInit,className:C.a.HomeLink},"Top Artists"),r.a.createElement("form",{className:C.a.SearchForm,onSubmit:function(e){t.onSubmitHandler(e)}},r.a.createElement("div",{role:"search",className:C.a.SearchField},r.a.createElement("input",{"aria-label":"search",placeholder:"Search...",value:this.state.searchValue,onChange:function(e){t.inputChangedHandler(e)}})))))}}]),e}(a.Component),j=Object(p.e)(Object(h.b)(null,function(t){return{onArtistSearchInit:function(e){t(_(e))},onArtistsInit:function(){t(S())}}})(B)),k=n(31),Q=n.n(k),T=n(32),O=n.n(T),v=function(t){return r.a.createElement("figure",{onClick:t.clicked,className:O.a.Card,link:t.link},r.a.createElement("img",{src:t.src,alt:t.title}),r.a.createElement("figcaption",{className:O.a.CardTitle},t.title))},K=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).onGetInfoHandler=function(){n.props.onArtistSearchInit(n.props.name)},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(v,{src:this.props.src,title:this.props.name,clicked:this.onGetInfoHandler})}}]),e}(a.Component),F=Object(h.b)(null,function(t){return{onArtistSearchInit:function(e){t(_(e))}}})(K),U=n(47),H=n.n(U),w=function(t){return r.a.createElement("div",{className:H.a.Loader},"Loading...")},y=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r))))._isMounted=!1,n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.props.onArtistsInit()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=this.props.loading?r.a.createElement(w,null):this.props.artists.map(function(t){return r.a.createElement(F,{key:Math.random(),src:t.src,name:t.name})});return r.a.createElement("div",{className:Q.a.ArtistsContainer},r.a.createElement("h2",{className:Q.a.Subheading},"Top Last.fm Artists"),t)}}]),e}(a.Component),R=Object(h.b)(function(t){return{artists:t.artists,loading:t.loading}},function(t){return{onArtistsInit:function(){t(S())},onArtistSearchInit:function(e){t(_(e))}}})(y),N=n(22),x=n.n(N),M=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=null;return t=this.props.loading?r.a.createElement(w,null):this.props.artistInfo.notFound?r.a.createElement("div",{className:x.a.ArtistInfoContainer},r.a.createElement("h2",null,"Not Found")):r.a.createElement("div",{className:x.a.ArtistInfoContainer},r.a.createElement("h2",null,this.props.artistInfo.name),r.a.createElement(I.b,{className:x.a.AlbumsLink,to:{pathname:"/albums",search:"?".concat(this.props.artistInfo.name)}},"Top Albums"),r.a.createElement("div",{className:x.a.ArtistInfoImage},r.a.createElement("img",{src:this.props.artistInfo.image,alt:this.props.artistInfo.name})),r.a.createElement("p",{className:x.a.ArtistInfoBio},this.props.artistInfo.bio)),r.a.createElement(r.a.Fragment,null,t)}}]),e}(a.Component),q=Object(h.b)(function(t){return{loading:t.loading,artistInfo:t.artistInfo}})(M),L=n(25),J=n.n(L),G=n(48),z=n.n(G),D=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={name:null,page:1,limit:20,albumsToShow:10},n.onClickHandler=function(t){window.open(t,"_blank")},n.onSelectHandler=function(t){n._selectEl.value=t.target.value,n.setState({albumsToShow:t.target.value})},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.setState({name:decodeURI(this.props.location.search.substr(1))}),this.props.onAlbumsInit(decodeURI(this.props.location.search.substr(1)),this.state.page,this.state.limit)}},{key:"render",value:function(){var t=this,e=this.props.loading?r.a.createElement(w,null):this.props.albums.slice(0,this.state.albumsToShow).map(function(e){return r.a.createElement(v,{key:Math.random(),src:e.src?e.src:z.a,title:"(null)"!==e.name?e.name:"Not Found",clicked:function(){t.onClickHandler(e.link)}})});return r.a.createElement("div",{className:J.a.AlbumsContainer},r.a.createElement("h2",{className:J.a.Subheading},this.state.name?"".concat(this.state.name," Top Albums"):"Not Found"),r.a.createElement("div",{className:J.a.SelectWrapper},r.a.createElement("select",{className:J.a.AlbumsSelector,onChange:function(e){t.onSelectHandler(e)},ref:function(e){t._selectEl=e},value:this.state.albumsToShow,"aria-label":"Albums amount"},r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20"))),e)}}]),e}(a.Component),Y=Object(h.b)(function(t){return{albums:t.albums,loading:t.loading}},function(t){return{onAlbumsInit:function(e,n,a){t(function(t,e,n){return function(a){a({type:"FETCH_ALBUMS_START"}),E.a.get("http://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&page=".concat(e,"&autocorrect=1&limit=").concat(n,"&artist=").concat(t,"&api_key=").concat("4cb074e4b8ec4ee9ad3eb37d6f7eb240","&format=json")).then(function(t){a({type:"FETCH_ALBUMS_SUCCESS",albums:t.data.topalbums.album.map(function(t){var e={};return e.name=t.name,e.src=t.image[3]["#text"],e.link=t.url,e})})}).catch(function(t){a({type:"FETCH_ALBUMS_FAIL"})})}}(e,n,a))}}})(D),Z=n(49),W=n.n(Z),V=n(50),X=n.n(V),P=function(t){return t.show?r.a.createElement("div",{className:X.a.Backdrop,onClick:t.clicked}):null},$=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"shouldComponentUpdate",value:function(t,e){return t.show!==this.props.show||t.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{show:this.props.show,clicked:this.props.modalClose}),r.a.createElement("div",{className:W.a.Modal,style:{transform:this.props.show?"translate(-50%, -50%)":"translate(-50%, -130vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),e}(a.Component),tt=function(t,e){return function(n){function a(t){var n;return Object(i.a)(this,a),(n=Object(s.a)(this,Object(l.a)(a).call(this,t))).errorConfirmedHandler=function(){n.setState({error:null})},n.state={error:null},n.reqInterceptor=e.interceptors.request.use(function(t){return n.setState({error:null}),t}),n.resInterceptor=e.interceptors.response.use(function(t){return t},function(t){n.setState({error:t})}),n}return Object(u.a)(a,n),Object(c.a)(a,[{key:"componentWillUnmount",value:function(){e.interceptors.request.eject(this.reqInterceptor),e.interceptors.request.eject(this.resInterceptor)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{show:this.state.error,modalClose:this.errorConfirmedHandler},r.a.createElement("h2",null,"Something went wrong..."),this.state.error?this.state.error.message:null),r.a.createElement(t,this.props))}}]),a}(a.Component)};function et(){var t=Object(m.a)(["\n  overflow: auto;\n   padding: 20px 0; \n   flexGrow: 1; \n   backgroundColor: #f9fbfc\n"]);return et=function(){return t},t}var nt=n(51).a.main(et()),at=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:d.a.Container},r.a.createElement(j,null),r.a.createElement(nt,null,r.a.createElement("h1",{className:"sr-only"},"Lastfm Info"),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,component:this.props.showArtistInfo?q:R}),r.a.createElement(p.a,{path:"/:id",component:Y}),"}/>")))}}]),e}(a.Component),rt=Object(h.b)(function(t){return{showArtistInfo:t.showArtistInfo,artistInfo:t.artistInfo}})(tt(at,E.a)),At=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(rt,null)}}]),e}(a.Component),ot=Object(p.e)(At);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=n(19),ct=n(54),st=n(14),lt={artists:[],artistInfo:{},albums:[],showArtistInfo:!1,loading:!1,error:!1},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_ARTISTS_START":return function(t,e){return Object(st.a)({},t,{loading:!0,showArtistInfo:!1,error:!1})}(t);case"FETCH_ARTISTS_SUCCESS":return function(t,e){return Object(st.a)({},t,{artists:e.artists,loading:!1})}(t,e);case"FETCH_ARTISTS_FAIL":return function(t,e){return Object(st.a)({},t,{loading:!1,error:!0})}(t);case"FETCH_ARTIST_INFO_START":return function(t,e){return Object(st.a)({},t,{loading:!0,showArtistInfo:!0,error:!1})}(t);case"FETCH_ARTIST_INFO_SUCCESS":return function(t,e){return Object(st.a)({},t,{loading:!1,artistInfo:e.artistInfo})}(t,e);case"FETCH_ARTISTS_FAIL":return function(t,e){return Object(st.a)({},t,{loading:!1,error:!0})}(t);case"FETCH_ALBUMS_START":return function(t,e){return Object(st.a)({},t,{loading:!0,error:!1})}(t);case"FETCH_ALBUMS_SUCCESS":return function(t,e){return Object(st.a)({},t,{loading:!1,albums:e.albums})}(t,e);case"FETCH_ALBUMS_FAIL":return function(t,e){return Object(st.a)({},t,{loading:!1,error:!0})}(t);default:return t}},pt=it.c,mt=Object(it.d)(ut,pt(Object(it.a)(ct.a))),ht=r.a.createElement(h.a,{store:mt},r.a.createElement(I.a,{basename:"/Lastfm"},r.a.createElement(ot,null)));o.a.render(ht,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[56,1,2]]]);
//# sourceMappingURL=main.43ea3c19.chunk.js.map